(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(46),r=n.n(s),l=(n(58),n(19)),o=n(20),c=n(22),u=n(21),g=n(23),h=(n(60),n(61),n(52)),d=n(51),p=n(31),f=n(47);n(111);p.pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var m={cMapUrl:"cmaps/",cMapPacked:!0},P=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onDocumentLoadSuccess=function(e){e.getPage(1).then(function(t){var a=t.getViewport(1);n.props.getNumPages(e.numPages),n.props.setPage(n.setPage),n.listRef=i.a.createRef(),n.setState({pdf:e,numPages:e.numPages,itemScale:a.height/a.width,loaded:!0})})},n.updateCurrentVisiblePage=function(e){var t=e.visibleStopIndex;!0===n.state.loaded&&0!==n.state.currentPage&&(n.state.currentPage=t+1,n.props.getCurrentPage(n.state.currentPage))},n.setPage=function(e){n.state.currentPage=e,n.props.getCurrentPage(n.state.currentPage),n.listRef.current.scrollToItem(e-1,"start")},n.componentDidUpdate=function(){!0===n.state.loaded&&0===n.state.currentPage&&n.setPage(n.props.currentPage)},n.componentWillUnmount=function(){n.state.pdf.destroy(),console.log("unmout pdf")},n.state={pdf:null,width:0,height:0,itemScale:0,loaded:!1,numPages:null,currentPage:0},n}return Object(g.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return(this.props.file!==e.file||!1===this.state.loaded)&&(this.state.currentPage=0,this.state.loaded=!1,!0)}},{key:"render",value:function(){var e=this;return i.a.createElement(f.a,{bounds:!0,onResize:function(t){e.setState({width:t.bounds.width,height:t.bounds.height})}},function(t){var n=t.measureRef;return i.a.createElement("div",{className:"viewer",style:{width:"100%",height:"100%",display:"block",position:"absolute"},ref:n},i.a.createElement("div",{className:"document_container"},i.a.createElement(p.Document,{file:e.props.file,onLoadSuccess:e.onDocumentLoadSuccess,options:m,noData:"",loading:""},e.state.loaded?i.a.createElement(d.a,{ref:e.listRef,height:e.state.height,width:e.state.width,itemSize:e.state.itemScale*e.state.width,itemCount:e.state.numPages,onItemsRendered:e.updateCurrentVisiblePage,overscanCount:1},function(t){var n=t.style,a=t.index;return i.a.createElement("div",{style:n,key:a},i.a.createElement(p.Page,{pageNumber:a+1,width:e.state.width-10,renderAnnotationLayer:!1,loading:""}))}):null)))})}}]),t}(a.Component),v=n(49),w=n.n(v),y=n(50),S=n.n(y),b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).cachePage=function(){n.localStorage.setItem(n.state.value,n.state.currentPage.toString()),console.log("cached")},n.onFileChange=function(e){n.cachePage();var t=e.target.files[0];if(null!==t){var a=e.target.value,i=parseInt(n.localStorage.getItem(a));n.setState({file:t,value:a,currentPage:isNaN(i)?1:i})}},n.componentWillMount=function(){n.setState(function(){return{file:null!==n.props.file?n.props.file:null,value:"none"!==n.props.value?n.props.value:"none",currentPage:0!==n.props.currentPage?n.props.currentPage:0}})},n.componentWillUnmount=function(){n.cachePage(),console.log("unmount viewer")},n.vSplit=function(){n.setState(function(){return{split:"vertical"}})},n.hSplit=function(){n.setState(function(){return{split:"horizontal"}})},n.lClose=function(){n.state.close>=1&&n.props.handle(),n.setState(function(e){return{size:"0%",allowResize:!1,resizerStyle:{display:"none"},lr:"left",close:e.close+1}})},n.rClose=function(){n.state.close>=1&&n.props.handle(),n.setState(function(e){return{size:"100%",allowResize:!1,resizerStyle:{display:"none"},lr:"right",close:e.close+1}})},n.getNumPages=function(e){n.setState({numPages:e})},n.getCurrentPage=function(e){e!==n.state.currentPage&&n.setState({currentPage:e})},n.getPage=function(e){if(13===e.keyCode){var t=parseInt(n.state.page);NaN!==t&&t>0&&t<=n.state.numPages&&n.state.setPage(t),n.setState({page:""})}},n.setPage=function(e){n.setState({setPage:e})},n.state={split:"",size:"50%",resizerStyle:"",allowResize:!0,close:0,lr:"",file:null,value:"none",currentPage:0,numPages:0,page:"",setPage:null},n.localStorage=window.localStorage,n}return Object(g.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,n=S.a.uniqueId();return i.a.createElement("div",null,i.a.createElement(w.a,{onBeforeunload:function(){e.cachePage()}}),""===this.state.split?i.a.createElement("div",null,i.a.createElement("div",{style:{width:"100%",background:"#white",display:"flex",justifyContent:"center"}},i.a.createElement("button",{style:{marginRight:"auto",marginLeft:"20px",visibility:"hidden"}}),i.a.createElement("button",{onClick:this.vSplit}),i.a.createElement("button",{onClick:this.hSplit}),i.a.createElement("button",{onClick:this.props.close}),i.a.createElement("input",{type:"file",onChange:this.onFileChange,style:{display:"none"},id:n}),i.a.createElement("label",{htmlFor:n}),i.a.createElement("div",{style:{marginLeft:"auto"}},i.a.createElement("div",{style:{marginRight:"20px",textAlign:"right",color:"gray",fontSize:"14px"}},i.a.createElement("input",{type:"text",style:{width:"30px"},value:this.state.page,placeholder:this.state.currentPage,onChange:function(t){return e.setState({page:t.target.value})},onKeyDown:this.getPage}),"(",this.state.currentPage," of ",this.state.numPages,")"))),i.a.createElement(P,{file:this.state.file,currentPage:this.state.currentPage,getNumPages:this.getNumPages,getCurrentPage:this.getCurrentPage,setPage:this.setPage})):i.a.createElement(h.a,{split:this.state.split,size:this.state.size,resizerStyle:this.state.resizerStyle,paneStyle:{background:"white"},pane2Style:"vertical"===this.state.split?{width:"0%"}:null,allowResize:this.state.allowResize,onDragFinished:this.update},"left"===this.state.lr?i.a.createElement("div",null):i.a.createElement("div",{style:{flex:1}},i.a.createElement(t,{close:this.lClose,handle:this.rClose,file:this.state.file,value:this.state.value,currentPage:this.state.currentPage})),"right"===this.state.lr?i.a.createElement("div",null):i.a.createElement(t,{close:this.rClose,handle:this.lClose,file:this.state.file,value:this.state.value,currentPage:this.state.currentPage})))}}]),t}(a.Component),E=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={close:!1},e}return Object(g.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,this.state.close?null:i.a.createElement(b,{handle:function(){},file:null,value:"none",currentPage:0}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},29:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=29},53:function(e,t,n){e.exports=n(113)},58:function(e,t,n){},60:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},61:function(e,t,n){},69:function(e,t){},71:function(e,t){},72:function(e,t){},73:function(e,t){},74:function(e,t){}},[[53,2,1]]]);
//# sourceMappingURL=main.222dddcb.chunk.js.map