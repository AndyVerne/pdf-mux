{"version":3,"sources":["PdfViewer.js","Viewer.js","App.js","serviceWorker.js","index.js","../node_modules/pdfjs-dist/build sync"],"names":["pdfjs","GlobalWorkerOptions","workerSrc","options","cMapUrl","cMapPacked","PdfViewer","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onDocumentLoadSuccess","pdf","promise","getPage","state","destroy","then","page","viewport","getViewport","getNumPages","numPages","getSetPage","setPage","listRef","React","createRef","setState","itemScale","height","width","loaded","updateCurrentVisiblePage","_ref","visibleStopIndex","currentPage","getCurrentPage","current","scrollToItem","componentDidUpdate","componentWillUnmount","console","log","onItemClick","_ref2","pageNumber","pushStack","nextProps","nextState","file","_this2","react_default","a","createElement","react_measure_dist_index_esm","bounds","onResize","contentRect","_ref3","measureRef","className","style","display","position","ref","entry","onLoadSuccess","noData","loading","dist_index_esm","itemSize","itemCount","onItemsRendered","overscanCount","_ref4","index","key","renderAnnotationLayer","Component","Viewer","cachePage","localStorage","setItem","value","toString","onFileChange","event","target","files","parseInt","getItem","isNaN","componentWillMount","cleanUp","vSplit","split","hSplit","lClose","close","handle","size","allowResize","resizerStyle","lr","rClose","keyCode","NaN","stack","push","goBack","length","pop","window","id","_","uniqueId","Beforeunload_default","onBeforeunload","background","justifyContent","marginRight","marginLeft","onClick","ReactTooltip","hide","findDOMNode","refs","back","data-tip","type","onChange","htmlFor","open","textAlign","color","fontSize","placeholder","e","onKeyDown","dist_default","place","effect","PdfViewer_PdfViewer","index_esm","paneStyle","pane2Style","onDragFinished","update","flex","App","src_Viewer","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","webpackEmptyContext","req","Error","code","keys","resolve","module","exports"],"mappings":"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","file":"static/js/main.3679c86f.chunk.js","sourcesContent":["import { FixedSizeList as List } from \"react-window\";\r\nimport React, { Component } from \"react\";\r\nimport { pdfjs, Document, Page } from \"react-pdf\";\r\nimport Measure from \"react-measure\";\r\nimport \"react-pdf/dist/Page/AnnotationLayer.css\";\r\npdfjs.GlobalWorkerOptions.workerSrc = \"pdf.worker.js\";\r\n\r\nconst options = {\r\n  cMapUrl: \"cmaps/\",\r\n  cMapPacked: true\r\n};\r\n\r\nexport default class PdfViewer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      pdf: null,\r\n      width: 0,\r\n      height: 0,\r\n      itemScale: 0,\r\n      loaded: false,\r\n      numPages: null,\r\n      currentPage: 0\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (this.props.file !== nextProps.file || this.state.loaded === false) {\r\n      this.state.currentPage = 0;\r\n      this.state.loaded = false;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  onDocumentLoadSuccess = pdf => {\r\n    const promise = pdf.getPage(1);\r\n    if (this.state.pdf !== null) {\r\n      this.state.pdf.destroy();\r\n      this.state.pdf=null;\r\n    }\r\n    promise.then(page => {\r\n      const viewport = page.getViewport(1);\r\n      this.props.getNumPages(pdf.numPages);\r\n      this.props.getSetPage(this.setPage);\r\n      this.listRef = React.createRef();\r\n      this.setState({\r\n        pdf,\r\n        numPages: pdf.numPages,\r\n        itemScale: viewport.height / viewport.width,\r\n        loaded: true\r\n      });\r\n    });\r\n  };\r\n\r\n  updateCurrentVisiblePage = ({ visibleStopIndex }) => {\r\n    if (this.state.loaded === true && this.state.currentPage !== 0) {\r\n      this.state.currentPage = visibleStopIndex + 1;\r\n      this.props.getCurrentPage(this.state.currentPage);\r\n    }\r\n  };\r\n\r\n  setPage = page => {\r\n    if (page !== 0) {\r\n      this.state.currentPage = page;\r\n      this.props.getCurrentPage(this.state.currentPage);\r\n      this.listRef.current.scrollToItem(page - 1, \"start\");\r\n    }\r\n  };\r\n\r\n  componentDidUpdate = () => {\r\n    if (this.state.loaded === true && this.state.currentPage === 0) {\r\n      this.setPage(this.props.currentPage);\r\n    }\r\n  };\r\n\r\n  componentWillUnmount = () => {\r\n    if (this.state.pdf !== null) {\r\n      this.state.pdf.destroy();\r\n      this.state.pdf=null;\r\n      this.setState({\r\n        loaded: false\r\n      });\r\n    }\r\n    console.log('unmout pdf')\r\n  }\r\n\r\n  onItemClick = ({pageNumber}) => {\r\n    this.props.pushStack(this.state.currentPage);\r\n    this.setPage(pageNumber);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Measure\r\n        bounds\r\n        onResize={contentRect => {\r\n          this.setState({\r\n            width: contentRect.bounds.width,\r\n            height: contentRect.bounds.height\r\n          });\r\n        }}\r\n      >\r\n        {({ measureRef }) => (\r\n          <div\r\n            className=\"viewer\"\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n              display: \"block\",\r\n              position: \"absolute\"\r\n            }}\r\n            ref={measureRef}\r\n          >\r\n            <div className=\"document_container\">\r\n              <Document\r\n                file={this.props.file}\r\n                onLoadSuccess={this.onDocumentLoadSuccess}\r\n                onItemClick={this.onItemClick}\r\n                options={options}\r\n                noData=\"\"\r\n                loading=\"\"\r\n              >\r\n                {this.state.loaded ? (\r\n                  <List\r\n                    ref={this.listRef}\r\n                    height={this.state.height}\r\n                    width={this.state.width}\r\n                    itemSize={this.state.itemScale * this.state.width}\r\n                    itemCount={this.state.numPages}\r\n                    onItemsRendered={this.updateCurrentVisiblePage}\r\n                    overscanCount={1}\r\n                  >\r\n                    {({ style, index }) => (\r\n                      <div style={style} key={index}>\r\n                        <Page\r\n                          pageNumber={index + 1}\r\n                          width={this.state.width - 20}\r\n                          renderAnnotationLayer={true}\r\n                          loading=\"\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </List>\r\n                ) : null}\r\n              </Document>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Measure>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport {findDOMNode} from \"react-dom\"\r\nimport SplitPane from \"react-split-pane\";\r\nimport PdfViewer from \"./PdfViewer\";\r\nimport Beforeunload from \"react-beforeunload\";\r\nimport ReactTooltip from \"react-tooltip\"\r\nimport _ from \"lodash\";\r\n\r\nclass Viewer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      //split states\r\n      split: \"\",\r\n      size: \"50%\",\r\n      resizerStyle: \"\",\r\n      allowResize: true,\r\n      close: 0,\r\n      lr: \"\",\r\n      //file states\r\n      file: null,\r\n      value: \"none\",\r\n      currentPage: 0,\r\n      numPages: 0,\r\n      page: \"\",\r\n    };\r\n    this.setPage = null\r\n    this.stack = []\r\n    this.localStorage = window.localStorage;\r\n  }\r\n\r\n  cachePage = () => {\r\n    this.localStorage.setItem(this.state.value, this.state.currentPage.toString());\r\n    console.log(\"cached\");\r\n  };\r\n\r\n  onFileChange = event => {\r\n    this.cachePage();\r\n    const file = event.target.files[0];\r\n    if (file !== null) {\r\n      const value = event.target.value;\r\n      const currentPage = parseInt(this.localStorage.getItem(value));\r\n      this.setState({\r\n        file,\r\n        value,\r\n        currentPage: isNaN(currentPage) ? 1 : currentPage\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillMount = () => {\r\n    this.setState(() => ({\r\n      file: this.props.file !== null ? this.props.file : null,\r\n      value: this.props.value !== \"none\" ? this.props.value : \"none\",\r\n      currentPage: this.props.currentPage !== 0 ? this.props.currentPage : 0\r\n    }));\r\n  };\r\n\r\n  cleanUp = () => {\r\n    this.setPage=null;\r\n    this.state.file=null;\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    this.cachePage();\r\n    this.cleanUp();\r\n    console.log('unmount viewer')\r\n  };\r\n\r\n  vSplit = () => {\r\n    this.setState(() => ({\r\n      split: \"vertical\"\r\n    }),\r\n    () => {\r\n      this.cleanUp();\r\n    });\r\n  };\r\n\r\n  hSplit = () => {\r\n    this.setState(() => ({\r\n      split: \"horizontal\"\r\n    }),\r\n    () => {\r\n      this.cleanUp();\r\n    });\r\n  };\r\n\r\n  lClose = () => {\r\n    if (this.state.close >= 1) {\r\n      this.props.handle();\r\n    }\r\n    this.setState(state => ({\r\n      size: \"0%\",\r\n      allowResize: false,\r\n      resizerStyle: {\r\n        display: \"none\"\r\n      },\r\n      lr: \"left\",\r\n      close: state.close + 1\r\n    }));\r\n  };\r\n\r\n  rClose = () => {\r\n    if (this.state.close >= 1) {\r\n      this.props.handle();\r\n    }\r\n    this.setState(state => ({\r\n      size: \"100%\",\r\n      allowResize: false,\r\n      resizerStyle: {\r\n        display: \"none\"\r\n      },\r\n      lr: \"right\",\r\n      close: state.close + 1\r\n    }));\r\n  };\r\n\r\n  getNumPages = numPages => {\r\n    this.setState({\r\n      numPages\r\n    });\r\n  };\r\n\r\n  getCurrentPage = currentPage => {\r\n    if (currentPage !== this.state.currentPage) {\r\n      this.setState({\r\n        currentPage\r\n      });\r\n    }\r\n  };\r\n\r\n  getPage = event => {\r\n    if (event.keyCode === 13) {\r\n      const page = parseInt(this.state.page);\r\n      if (page !== NaN && page > 0 && page <= this.state.numPages) {\r\n        this.setPage(page);\r\n      }\r\n      this.setState({\r\n        page: \"\"\r\n      });\r\n    }\r\n  };\r\n\r\n  getSetPage = setPage => {\r\n    this.setPage = setPage\r\n  };\r\n\r\n  pushStack = (currentPage) => {\r\n    this.stack.push(currentPage);\r\n    console.log(this.stack)\r\n  };\r\n\r\n  goBack = () => {\r\n    if (this.stack.length > 0) {\r\n      const page = this.stack.pop()\r\n      this.setPage(page)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const id = _.uniqueId();\r\n    return (\r\n      <div>\r\n        <Beforeunload\r\n          onBeforeunload={() => {\r\n            this.cachePage();\r\n          }}\r\n        />\r\n        {this.state.split === \"\" ? (\r\n          <div>\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                background: \"#white\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\"\r\n              }}\r\n            >\r\n              <button \r\n                ref=\"back\"\r\n                style={{ marginRight: \"auto\", marginLeft: \"20px\"}} \r\n                onClick={() => {\r\n                  this.goBack(); \r\n                  ReactTooltip.hide(findDOMNode(this.refs.back));\r\n                }}\r\n                data-tip=\"Back\"\r\n              />\r\n              <button \r\n                ref=\"vSplit\"\r\n                onClick={() => {\r\n                  this.vSplit();\r\n                  ReactTooltip.hide(findDOMNode(this.refs.vSplit));\r\n                }}\r\n                data-tip=\"Split Vertical\"\r\n              />\r\n              <button \r\n                ref=\"hSplit\"\r\n                onClick={() => {\r\n                  this.hSplit();\r\n                  ReactTooltip.hide(findDOMNode(this.refs.hSplit));\r\n                }}\r\n                data-tip=\"Split Horizontal\"\r\n              />\r\n              <button \r\n                ref=\"close\"\r\n                onClick={() => {\r\n                  this.props.close();\r\n                  ReactTooltip.hide(findDOMNode(this.refs.close));\r\n                }}\r\n                data-tip=\"Close Pane\"\r\n              />\r\n              <input\r\n                type=\"file\"\r\n                onChange={this.onFileChange}\r\n                style={{ display: \"none\" }}\r\n                id={id}\r\n              />\r\n              <label \r\n                ref=\"open\"\r\n                htmlFor={id} \r\n                onClick={() => {\r\n                  ReactTooltip.hide(findDOMNode(this.refs.open));\r\n                }}\r\n                data-tip=\"Open File\"\r\n              />\r\n              <div style={{ marginLeft: \"auto\" }}>\r\n                <div\r\n                  style={{\r\n                    marginRight: \"20px\",\r\n                    textAlign: \"right\",\r\n                    color: \"gray\",\r\n                    fontSize: \"14px\"\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"text\"\r\n                    style={{ width: \"30px\" }}\r\n                    value={this.state.page}\r\n                    placeholder={this.state.currentPage}\r\n                    data-tip=\"Go to Page\"\r\n                    onChange={e => this.setState({ page: e.target.value })}\r\n                    onKeyDown={this.getPage}\r\n                  />\r\n                  ({this.state.currentPage} of {this.state.numPages})\r\n                </div>\r\n              </div>\r\n              <ReactTooltip place=\"bottom\" effect=\"solid\" />\r\n            </div>\r\n            <PdfViewer\r\n              file={this.state.file}\r\n              currentPage={this.state.currentPage}\r\n              getNumPages={this.getNumPages}\r\n              getCurrentPage={this.getCurrentPage}\r\n              getSetPage={this.getSetPage}\r\n              pushStack={this.pushStack}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <SplitPane\r\n            split={this.state.split}\r\n            size={this.state.size}\r\n            resizerStyle={this.state.resizerStyle}\r\n            paneStyle={{ background: \"white\" }}\r\n            pane2Style={\r\n              this.state.split === \"vertical\" ? { width: \"0%\" } : null\r\n            }\r\n            allowResize={this.state.allowResize}\r\n            onDragFinished={this.update}\r\n          >\r\n            {this.state.lr === \"left\" ? (\r\n              <div />\r\n            ) : (\r\n              <div style={{ flex: 1 }}>\r\n                <Viewer\r\n                  close={this.lClose}\r\n                  handle={this.rClose}\r\n                  file={this.state.file}\r\n                  value={this.state.value}\r\n                  currentPage={this.state.currentPage}\r\n                />\r\n              </div>\r\n            )}\r\n            {this.state.lr === \"right\" ? (\r\n              <div />\r\n            ) : (\r\n              <Viewer\r\n                close={this.rClose}\r\n                handle={this.lClose}\r\n                file={this.state.file}\r\n                value={this.state.value}\r\n                currentPage={this.state.currentPage}\r\n              />\r\n            )}\r\n          </SplitPane>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Viewer;\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Viewer from \"./Viewer.js\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      close: false\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.close ? null : (\n          <Viewer\n            close={() => {}}\n            file={null}\n            value={\"none\"}\n            currentPage={0}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 31;"],"sourceRoot":""}